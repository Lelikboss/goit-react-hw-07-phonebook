(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{100:function(e,t,a){e.exports={table:"fetchApi_table__2uRb3",loader:"fetchApi_loader__1lvcy"}},229:function(e,t,a){"use strict";a.r(t);var n,c=a(0),s=a.n(c),r=a(26),i=a.n(r),l=(a(136),a(137),a(126)),o=a(52),j=a(7),b=a(27),u=a(118),d=Object(u.a)({reducerPath:"contactApi",baseQuery:Object(b.d)({baseUrl:"https://6194e3ff74c1bd00176c69ec.mockapi.io/"}),tagTypes:["Contact"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contact"]})}}}),x=d.useFetchContactsQuery,O=d.useDeleteContactMutation,m=d.useCreateContactMutation,h=a(30),p=Object(j.b)("filter/value"),f=Object(j.d)("",Object(o.a)({},p,(function(e,t){return t.payload}))),g=Object(h.b)((n={},Object(o.a)(n,d.reducerPath,d.reducer),Object(o.a)(n,"filter",f),n)),_=Object(j.a)({reducer:g,middleware:function(e){return[].concat(Object(l.a)(e()),[d.middleware])}});Object(b.e)(_.dispatch);var y=a(24),v=a(68),C=a(46),F=function(e){return e.filter},N=a(39),w=a.n(N),T=a(8),I=function(e){var t=e.contacts,a=e.onDelete,n=(e.deleting,Object(y.e)(F)),c=t.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{key:e.id})})),s=function(){var e=n.toLowerCase();return c.filter((function(t){return t.name.toLowerCase().includes(e)}))}();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("ul",{className:w.a.list,children:[Object(T.jsx)("li",{children:Object(T.jsxs)("ul",{className:w.a.listFlex,children:[Object(T.jsx)("li",{className:w.a.listHeadItem,children:"Name"}),Object(T.jsx)("li",{className:w.a.listHeadItem,children:"Phone"}),Object(T.jsx)("li",{className:w.a.listHeadItem,children:"Delete"})]})}),Object(T.jsx)("li",{children:Object(T.jsx)("ul",{className:w.a.list,children:s.map((function(e){var t=e.name,n=e.phone,c=e.id;return Object(T.jsxs)("li",{className:w.a.itemFlex,children:[Object(T.jsx)("p",{className:w.a.flexBasis,children:t})," ",Object(T.jsx)("p",{className:w.a.flexBasis,children:n}),Object(T.jsx)("button",{className:w.a.btn,type:"button",onClick:function(){return a(c)},children:"Delete"})]},c)}))})})]})})},k=(a(105),a(120)),L=a.n(k),A=a(100),D=a.n(A),B=function(){var e=x(),t=e.data,a=e.isFetching,n=O(),c=Object(v.a)(n,2),s=c[0],r=c[1].isLoading;return Object(T.jsxs)("div",{children:[a&&Object(T.jsx)(L.a,{className:D.a.loader,timeout:13e3}),t&&Object(T.jsx)(I,{className:D.a.table,contacts:t,onDelete:s,deleting:r})]})},H=a(235),P=a(127),q=a(236),E=a(67),S={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},Z=function(){var e=H.a.useForm(),t=Object(v.a)(e,1)[0],a=Object(c.useState)(""),n=Object(v.a)(a,2),s=n[0],r=n[1],i=m(),l=Object(v.a)(i,1)[0],o=x(),j=o.data,b=o.isFetching;console.log(b);var u=function(){return void 0!==j?j.map((function(e){return e.name})).includes(s):void 0},d=function(){return s&&!0===u()?P.b.warning("warning"):null};return Object(T.jsxs)(H.a,Object(C.a)(Object(C.a)({autoComplete:"off",form:t},S),{},{onFinish:function(e){l({name:e.content,phone:e.number}),t.resetFields(),r("")},children:[Object(T.jsx)(H.a.Item,{type:"text",name:"content",label:"",hasFeedback:!0,validateStatus:s&&!0===u()?"warning":null,children:Object(T.jsx)(q.a,{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:function(e){console.log(e.currentTarget.value),r(e.currentTarget.value),u(),d()},placeholder:"Name"})}),Object(T.jsx)(H.a.Item,{type:"tel",name:"number",label:"",children:Object(T.jsx)(q.a,{pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"xxx-xxx-xxx"})}),Object(T.jsx)(H.a.Item,{label:"",children:Object(T.jsx)(E.a,{type:"primary",htmlType:"submit",disabled:!s||!1!==u(),children:"Create contact"})})]}))},z=a(231),M=a(232),J=a(234),Q=a(233),W=function(){var e=Object(y.e)(F),t=Object(y.d)();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(H.a.Item,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}}),{},{type:"text",children:Object(T.jsx)(q.a,{value:e,onChange:function(e){return t(p(e.target.value))},type:"text",placeholder:"Find contact by name"})}))})};function K(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(z.a,{children:Object(T.jsxs)(M.a,{span:12,offset:6,children:[Object(T.jsx)(J.a,{className:"site-page-header",title:"Phonebook",subTitle:"This is your phone book"}),Object(T.jsx)(Q.a,{}),Object(T.jsx)(W,{}),Object(T.jsx)(Z,{}),Object(T.jsx)(B,{})]})})})}i.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(y.a,{store:_,children:Object(T.jsx)(K,{})})}),document.getElementById("root"))},39:function(e,t,a){e.exports={list:"List_list__127xy",listFlex:"List_listFlex__Kbl4u",listHeadItem:"List_listHeadItem__1WZjI",itemFlex:"List_itemFlex__1TWg5",btn:"List_btn__309Va",flexBasis:"List_flexBasis__3pa1_"}}},[[229,1,2]]]);
//# sourceMappingURL=main.2ce97fd8.chunk.js.map