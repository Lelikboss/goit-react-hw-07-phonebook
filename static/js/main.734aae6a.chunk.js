(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{219:function(e,t,a){"use strict";a.r(t);var n,c=a(0),s=a.n(c),r=a(29),i=a.n(r),l=(a(126),a(127),a(116)),o=a(47),j=a(7),b=a(26),u=a(108),d=Object(u.a)({reducerPath:"contactApi",baseQuery:Object(b.d)({baseUrl:"https://6194e3ff74c1bd00176c69ec.mockapi.io/"}),tagTypes:["Contact"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contact"]})}}}),x=d.useFetchContactsQuery,O=d.useDeleteContactMutation,m=d.useCreateContactMutation,h=a(28),p=Object(j.b)("filter/value"),f=Object(j.d)("",Object(o.a)({},p,(function(e,t){return t.payload}))),g=Object(h.b)((n={},Object(o.a)(n,d.reducerPath,d.reducer),Object(o.a)(n,"filter",f),n)),_=Object(j.a)({reducer:g,middleware:function(e){return[].concat(Object(l.a)(e()),[d.middleware])}});Object(b.e)(_.dispatch);var y=a(24),v=a(59),C=a(43),F=function(e){return e.filter},N=a(37),T=a.n(N),w=a(8),I=function(e){var t=e.contacts,a=e.onDelete,n=(e.deleting,Object(y.e)(F)),c=t.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{key:e.id})})),s=function(){var e=n.toLowerCase();return c.filter((function(t){return t.name.toLowerCase().includes(e)}))}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("ul",{className:T.a.list,children:[Object(w.jsx)("li",{children:Object(w.jsxs)("ul",{className:T.a.listFlex,children:[Object(w.jsx)("li",{className:T.a.listHeadItem,children:"Name"}),Object(w.jsx)("li",{className:T.a.listHeadItem,children:"Phone"}),Object(w.jsx)("li",{className:T.a.listHeadItem,children:"Delete"})]})}),Object(w.jsx)("li",{children:Object(w.jsx)("ul",{className:T.a.list,children:s.map((function(e){var t=e.name,n=e.phone,c=e.id;return Object(w.jsxs)("li",{className:T.a.itemFlex,children:[Object(w.jsx)("p",{className:T.a.flexBasis,children:t})," ",Object(w.jsx)("p",{className:T.a.flexBasis,children:n}),Object(w.jsx)("button",{className:T.a.btn,type:"button",onClick:function(){return a(c)},children:"Delete"})]},c)}))})})]})})},k=(a(95),a(110)),L=a.n(k),A=a(90),D=a.n(A),B=function(){var e=x(),t=e.data,a=e.isFetching,n=O(),c=Object(v.a)(n,2),s=c[0],r=c[1].isLoading;return Object(w.jsxs)("div",{children:[a&&Object(w.jsx)(L.a,{className:D.a.loader,timeout:13e3}),t&&Object(w.jsx)(I,{className:D.a.table,contacts:t,onDelete:s,deleting:r})]})},H=a(224),P=a(226),q=a(58),E={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},S=function(){var e=H.a.useForm(),t=Object(v.a)(e,1)[0],a=Object(c.useState)(""),n=Object(v.a)(a,2),s=n[0],r=n[1],i=m(),l=Object(v.a)(i,1)[0],o=x(),j=o.data,b=o.isFetching;console.log(b);var u=function(){return void 0!==j?j.map((function(e){return e.name})).includes(s):void 0};return Object(w.jsxs)(H.a,Object(C.a)(Object(C.a)({autoComplete:"off",form:t},E),{},{onFinish:function(e){l({name:e.content,phone:e.number}),t.resetFields(),r("")},children:[Object(w.jsx)(H.a.Item,{type:"text",name:"content",label:"",hasFeedback:!0,validateStatus:s&&!0===u()?"warning":null,children:Object(w.jsx)(P.a,{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:function(e){console.log(e.currentTarget.value),r(e.currentTarget.value),u()},placeholder:"Name"})}),Object(w.jsx)(H.a.Item,{type:"tel",name:"number",label:"",children:Object(w.jsx)(P.a,{pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"xxx-xxx-xxx"})}),Object(w.jsx)(H.a.Item,{label:"",children:Object(w.jsx)(q.a,{type:"primary",htmlType:"submit",disabled:!s||!1!==u(),children:"Create contact"})})]}))},Z=a(221),z=a(222),M=a(225),J=a(223),Q=function(){var e=Object(y.e)(F),t=Object(y.d)();return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(H.a.Item,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}}),{},{type:"text",children:Object(w.jsx)(P.a,{value:e,onChange:function(e){return t(p(e.target.value))},type:"text",placeholder:"Find contact by name"})}))})};function W(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Z.a,{children:Object(w.jsxs)(z.a,{span:12,offset:6,children:[Object(w.jsx)(M.a,{className:"site-page-header",title:"Phonebook",subTitle:"This is your phone book"}),Object(w.jsx)(J.a,{}),Object(w.jsx)(Q,{}),Object(w.jsx)(S,{}),Object(w.jsx)(B,{})]})})})}i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(y.a,{store:_,children:Object(w.jsx)(W,{})})}),document.getElementById("root"))},37:function(e,t,a){e.exports={list:"List_list__127xy",listFlex:"List_listFlex__Kbl4u",listHeadItem:"List_listHeadItem__1WZjI",itemFlex:"List_itemFlex__1TWg5",btn:"List_btn__309Va",flexBasis:"List_flexBasis__3pa1_"}},90:function(e,t,a){e.exports={table:"fetchApi_table__2uRb3",loader:"fetchApi_loader__1lvcy"}}},[[219,1,2]]]);
//# sourceMappingURL=main.734aae6a.chunk.js.map